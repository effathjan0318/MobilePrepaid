<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>profile</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <style>
        body {
            background-color: #f8f9fa;
        }
        .navbar {
            background-color: #ffffff;
            box-shadow: 0px 0px 10px ;
        }

        .navbar-brand, .navbar-nav .nav-link {
            color: #54388b;
        }

        .navbar-nav .nav-link:hover {
            color: #000000;
        }

        .feature-card {
            transition: transform 0.3s, box-shadow 0.3s;
            border: none;
        }
        .feature-card:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
        }
        .btn-primary {
            display: flex;
            align-items: center;
            gap: 5px;
            font-weight: 600;
        }
        .footer {
        background-color: #54388b;
        color: white;
        padding: 30px 0;
        font-size: 14px;
    }

    .footer h5 {
        color: #f4f7fc;
        font-size: 23px;
        margin-bottom: 15px;
    }

    .footer hr {
        border: 1px solid #ffffff;
        width: 50px;
        margin-bottom: 15px;
    }

    .footer a {
        color: #feffff;
        text-decoration: none;
        transition: 0.3s;
    }

    .footer a:hover {
        color: #ffffff;
        text-decoration: underline;
    }

    .social-icons a {
        color: white;
        font-size: 20px;
        transition: 0.3s;
    }

    .social-icons a:hover {
        color: #00acee;
    }
    .profile-container {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }
        .profile-section, .active-plan {
            flex: 1;
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            display: flex;
            /* align-items: center; */
            justify-content: space-between;
            font-weight: bold;
        }
        .profile-section {
            background: linear-gradient(135deg, #54388b, #9182ae);
            color: white;
            position: relative;
        }
        .profile-icon {
            font-size: 20px;
            display:flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            
        }
        .profile-info {
            font-size: 20px;
            display:flex;
            flex-direction: row;
        }

        .settings-icon {
            position: absolute;
            top: 6px; 
            right: 8px;
            font-size: 16px;
            cursor: pointer;
            color: white;

        }
        .settings-icon:hover {
            color: #0c4278;
        }
        .active-plan {
            color: #ffffff;
            background: linear-gradient(135deg, #54388b, #9182ae);
            text-align: center;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 15px;
            font-weight: bold;
        }
        .feature-card .icon {
            font-size: 35px;
            font-weight: bolder;
        }

        .card.text-center {
            text-align: center;
        }

    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-light sticky-top">
        <div class="container">
            <a class="navbar-brand" href="./Home.html">
                <img src="../img/logo.png" alt="Logo" width="150"> 
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="./Home.html"><i class="bi bi-house-door"></i> Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./Mobile.html"><i class="bi bi-phone"></i> Profile</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./Recharge.html"><i class="bi bi-lightning-fill"></i> Recharge</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#"><i class="bi bi-sim"></i> Get SIM</a>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="bi bi-person-circle"></i> <span id="loggedInUser">Account</span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                            <li><a class="dropdown-item" href="#"><i class="bi bi-gear"></i> Settings</a></li>
                            <li><a class="dropdown-item" href="#" style="color: red;" onclick="logoutUser()"><i class="bi bi-box-arrow-right"></i> Logout</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="profile-container">
            <div class="profile-section d-flex flex-column justify-content-">
                <div class="profile-info">
                    <i class="bi bi-person-circle profile-icon me-2 py-1.5"></i>
                    <span id="username"> Name</span>
                </div>
                <div class="profile-info">
                    <i class="bi bi-phone profile-icon"></i>+91-

                    <span id="phoneNo">98765 43210</span>
                </div>
                <div class="profile-info">
                    <a href="#" class="settings-icon"><i class="bi bi-gear-fill"></i></a>
                </div>
            </div>
            <div class="active-plan">
                <i class="bi bi-lightning-fill me-2"></i> Active Plan: Unlimited Calls + 2GB Data/Day
            </div>
        </div>
    </div>
    
    
    
    <div class="container py-5">

        
        <div class="row row-cols-1 row-cols-md-3 g-4">
            <a href="Recharge.html" style="text-decoration: none;">
                <div class="col">
                    <div class="card text-center p-4 shadow-sm feature-card">
                        <i class="icon bi bi-phone mb-2 text-primary"></i>
                        <h5 class="fw-bold">Browse Plans</h5>
                        <p class="text-muted">Find the best prepaid & postpaid plans.</p>
                    </div>
                </div>
            </a>
            <a href="#" style="text-decoration: none;" class="view-recharge-history">
                <div class="col">
                    <div class="card text-center p-4 shadow-sm feature-card">
                        <i class="icon bi bi-clock mb-2 text-success"></i>
                        <h5 class="fw-bold">Recharge History</h5>
                        <p class="text-muted">View previous recharges & expiry details.</p>
                    </div>
                </div>
            </a>
            <a href="#" style="text-decoration: none;" class="view-transaction-history">
            <div class="col">
                <div class="card text-center p-4 shadow-sm feature-card">
                    <i class="icon bi bi-clock-history mb-2 text-info"></i>
                    <h5 class="fw-bold">Transaction History</h5>
                    <p class="text-muted">Check out past recharge transactions.</p>
                </div>
            </div>
            </a>
            <a href="#" style="text-decoration: none;" class="view-data-usage">
            <div class="col">
                <div class="card text-center p-4 shadow-sm feature-card">
                    <i class="icon bi bi-bar-chart-fill mb-2 text-warning"></i>
                    <h5 class="fw-bold">Track Data Usage</h5>
                    <p class="text-muted">Monitor your real-time data consumption.</p>
                </div>
            </div>
            </a>
            <a href="#" style="text-decoration: none;" data-bs-toggle="modal" data-bs-target="#autoRechargeModal">
                <div class="col">
                    <div class="card text-center p-4 shadow-sm feature-card">
                        <i class="icon bi bi-arrow-clockwise mb-2 text-danger"></i>
                        <h5 class="fw-bold">Auto-Recharge</h5>
                        <p class="text-muted">Schedule automatic recharges easily.</p>
                    </div>
                </div>
            </a>           
            <a href="#" style="text-decoration: none;">
            <div class="col">
                <div class="card text-center p-4 shadow-sm feature-card">
                    <i class="icon bi bi-gift mb-2 text-info"></i>
                    <h5 class="fw-bold">Special Offers</h5>
                    <p class="text-muted">Avail exciting discounts & cashback.</p>
                </div>
            </div>
            </a>
        </div>
    </div>

    <!--footer-->
    <div class="footer">
        <div class="container">
            <div class="row">
    
             
                <div class="col-md-3">
                    <h5>About Prepaid Plus</h5>
                    <hr>
                    <p>Welcome to Prepaid Plus, your one-stop solution for seamless mobile recharges and prepaid management. We provide fast, secure, and hassle-free recharge services with a user-friendly experience.</p>
                </div>
                
                <div class="col-md-3">
                    <h5>Our Offerings</h5>
                    <hr>
                    <ul class="list-unstyled">
                        <li><a href="./Recharge.html">Prepaid</a></li>
                        <li><a href="./getSIM.html">Get New SIM</a></li>
                        <li><a href="./Mobile.html">Set AutoPay</a></li>
                    </ul>
                </div>
    
              
                <div class="col-md-3">
                    <h5>Support</h5>
                    <hr>
                    <ul class="list-unstyled">
                        <li><a href="./Mobile.html">My Account</a></li>
                        <li><a href="./FAQ.html">FAQ</a></li>
                        <li><a href="./customerSupport.html">Lost SIM</a></li>
                        <li><a href="./customerSupport.html">Feedback</a></li>
                    </ul>
                </div>
    
                <div class="col-md-3">
                    <h5>Connect with Us</h5>
                    <hr>
                    <p><i class="bi bi-geo-alt-fill"></i> Tamil Nadu, India</p>
                    <p><i class="bi bi-envelope-fill"></i> prepaidplus@info.com</p>
                    <p><i class="bi bi-telephone-fill"></i> +91 77068 55467</p>
    
            
                    <div class="social-icons mt-3">
                        <a href="#" class="me-3"><i class="bi bi-facebook"></i></a>
                        <a href="#" class="me-3"><i class="bi bi-twitter"></i></a>
                        <a href="#" class="me-3"><i class="bi bi-instagram"></i></a>
                        <a href="#"><i class="bi bi-linkedin"></i></a>
                    </div>
                </div>
    
            </div>
    
        </div>
    </div>

    <!-- Data Usage Modal -->
<div class="modal fade" id="dataUsageModal" tabindex="-1" aria-labelledby="detailsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <!--Header -->
            <div class="modal-header text-white" style="background-color: #54388b;">
                <h5 class="modal-title" id="detailsModalLabel">Data Usage</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <!--Body -->
            <div class="modal-body text-center" id="modalBody">
                <div id="loading" class="my-3">
                    <img src="../img/loader.gif" alt="Loading..." width="100">
                    <p class="mt-2">Fetching data...</p>
                </div>

                <div id="dataContent" style="display: none;">
                    <div class="p-3 rounded" style="background-color: #f8f9fa;">
                        <p><strong>Total Data:</strong> <span class="text-primary">50GB</span></p>
                        <p><strong>Data Used:</strong> <span class="text-danger">20GB</span></p>
                        <p><strong>Remaining Data:</strong> <span class="text-success">30GB</span></p>
                        <p><strong>Renewal Date:</strong> <span class="text-warning">25th Feb 2025</span></p>
                
                        <div class="progress" style="height: 20px;">
                            <div id="usedDataProgress" class="progress-bar bg-primary progress-bar-striped progress-bar-animated" role="progressbar" 
                                style="width: 40%;" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100">40%</div>
                        </div>
                    </div>
                </div>
            </div>

            <!--Footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>


<!-- Recharge History Modal -->
<div class="modal fade" id="rechargeHistoryModal" tabindex="-1" aria-labelledby="rechargeHistoryLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          
            <div class="modal-header text-white" style="background-color: #54388b;">
                <h5 class="modal-title" id="rechargeHistoryLabel">Recharge History</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body text-center" id="historyModalBody">
              
                <div id="historyLoading" class="my-3">
                    <img src="../img/loader.gif" alt="Loading..." width="100">
                    <p class="mt-2">Fetching recharge history...</p>
                </div>

               
                <div id="historyContent" style="display: none;">
                    <ul class="list-group">
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            15th Feb 2025 - Rs. 299 Plan <span class="badge bg-success">Success</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            10th Jan 2025 - Rs. 499 Plan <span class="badge bg-success">Success</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            5th Dec 2024 - Rs. 199 Plan <span class="badge bg-danger">Failed</span>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>


 <!-- Transaction History Modal -->
<div class="modal fade" id="transactionHistoryModal" tabindex="-1" aria-labelledby="transactionHistoryLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
           
            <div class="modal-header text-white" style="background-color: #54388b;">
                <h5 class="modal-title" id="transactionHistoryLabel">Transaction History</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

         
            <div class="modal-body text-center" id="transactionModalBody">
             
                <div id="transactionLoading" class="my-3">
                    <img src="../img/loader.gif" alt="Loading..." width="100">
                    <p class="mt-2">Fetching transaction history...</p>
                </div>

            
                <div id="transactionContent" style="display: none;">
                    <div class="p-3 rounded" style="background-color: #f8f9fa;">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Amount</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>20th Feb 2025</td>
                                    <td class="text-success">₹199</td>
                                    <td class="text-primary">Success</td>
                                </tr>
                                <tr>
                                    <td>10th Feb 2025</td>
                                    <td class="text-success">₹499</td>
                                    <td class="text-primary">Success</td>
                                </tr>
                                <tr>
                                    <td>1st Feb 2025</td>
                                    <td class="text-danger">₹299</td>
                                    <td class="text-warning">Pending</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>


<!-- Auto-Recharge Modal -->
<div class="modal fade" id="autoRechargeModal" tabindex="-1" aria-labelledby="autoRechargeModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="autoRechargeModalLabel">Auto-Recharge Setup</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="autoRechargeForm">
                    
                    <!-- Select Plan -->
                    <div class="mb-3">
                        <label class="form-label">Select Plan</label>
                        <button type="button" class="btn btn-outline-primary w-100" data-bs-toggle="modal" data-bs-target="#planSelectionModal">
                            Choose a Plan / View Current Plan
                        </button>
                    </div>

                    <!-- Recharge Amount -->
                    <div class="mb-3">
                        <label for="amount" class="form-label">Recharge Amount</label>
                        <input type="number" class="form-control" id="amount" placeholder="Enter amount" required>
                    </div>

                    <!-- Auto-Recharge Frequency -->
                    <div class="mb-3">
                        <label for="frequency" class="form-label">Auto-Recharge Frequency</label>
                        <select class="form-select" id="frequency" required>
                            <option selected disabled>Choose frequency</option>
                            <option value="daily">Daily</option>
                            <option value="weekly">Weekly</option>
                            <option value="monthly">Monthly</option>
                            <option value="threshold">When balance is low</option>
                        </select>
                    </div>

                    <!-- Low Balance Threshold (Only shown if "When balance is low" is selected) -->
                    <div class="mb-3" id="thresholdField" style="display: none;">
                        <label for="threshold" class="form-label">Low Balance Threshold</label>
                        <input type="number" class="form-control" id="threshold" placeholder="Enter threshold value">
                    </div>

                    <!-- Payment Method -->
                    <div class="mb-3">
                        <label for="paymentMethod" class="form-label">Payment Method</label>
                        <select class="form-select" id="paymentMethod" required>
                            <option selected disabled>Choose payment method</option>
                            <option value="credit">Credit Card</option>
                            <option value="debit">Debit Card</option>
                            <option value="upi">UPI</option>
                            <option value="wallet">Wallet</option>
                        </select>
                    </div>

                    <!-- Agreement Checkbox -->
                    <div class="form-check mb-3">
                        <input class="form-check-input" type="checkbox" id="agreeTerms" required>
                        <label class="form-check-label" for="agreeTerms">
                            I agree to enable auto-recharge.
                        </label>
                    </div>

                    <button type="submit" class="btn btn-primary w-100">Save & Enable</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Plan Selection Modal -->
<div class="modal fade" id="planSelectionModal" tabindex="-1" aria-labelledby="planSelectionModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="planSelectionModalLabel">Select a Plan</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="list-group">
                    <button class="list-group-item list-group-item-action" onclick="selectPlan(199)">Plan ₹199 - 28 Days, 1.5GB/day</button>
                    <button class="list-group-item list-group-item-action" onclick="selectPlan(299)">Plan ₹299 - 56 Days, 2GB/day</button>
                    <button class="list-group-item list-group-item-action" onclick="selectPlan(399)">Plan ₹399 - 84 Days, 2.5GB/day</button>
                </div>
            </div>
        </div>
    </div>
</div>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
    <script>
        
    document.addEventListener("DOMContentLoaded", function () {
        document.querySelectorAll(".view-data-usage").forEach(function (btn) {
            btn.addEventListener("click", function () {
        
                let modal = new bootstrap.Modal(document.getElementById("dataUsageModal"));
                modal.show();

            
                document.getElementById("loading").style.display = "block";
                document.getElementById("dataContent").style.display = "none";

            
                setTimeout(function () {
                    document.getElementById("loading").style.display = "none"; 
                    document.getElementById("dataContent").style.display = "block"; 
                }, 1500);
            });
        });
    });

    document.addEventListener("DOMContentLoaded", function () {
    document.querySelector(".view-recharge-history").addEventListener("click", function () {
        let modal = new bootstrap.Modal(document.getElementById("rechargeHistoryModal"));
        modal.show();

        document.getElementById("historyLoading").style.display = "block";
        document.getElementById("historyContent").style.display = "none";

        setTimeout(function () {
            document.getElementById("historyLoading").style.display = "none";
            document.getElementById("historyContent").style.display = "block";
        }, 1500);
    });
});

document.addEventListener("DOMContentLoaded", function () {
        document.querySelectorAll(".view-transaction-history").forEach(function (btn) {
            btn.addEventListener("click", function () {
                let modal = new bootstrap.Modal(document.getElementById("transactionHistoryModal"));
                modal.show();

                document.getElementById("transactionLoading").style.display = "block";
                document.getElementById("transactionContent").style.display = "none";

                setTimeout(function () {
                    document.getElementById("transactionLoading").style.display = "none";
                    document.getElementById("transactionContent").style.display = "block";
                }, 1500);
            });
        });
    });

    function logoutUser() {
        localStorage.removeItem("phoneNo"); 
        window.location.href = "userLogin.html"; 
    }

    document.addEventListener("DOMContentLoaded", function() {
        let phoneNo = localStorage.getItem("phoneNo");
        let loggedInUser=localStorage.getItem("loggedInUser");
        if (loggedInUser) {
            document.getElementById("loggedInUser").textContent = JSON.parse(loggedInUser).name;
            document.getElementById("username").textContent = JSON.parse(loggedInUser).name;
        }else{

        }

        if (phoneNo) {
            document.getElementById("phoneNo").textContent = phoneNo;
        }
    });

    function selectPlan(amount) {
        document.getElementById("amount").value = amount;
        var modal = bootstrap.Modal.getInstance(document.getElementById('planSelectionModal'));
        modal.hide();
    }

    // Show or hide the threshold field based on frequency selection
    document.getElementById("frequency").addEventListener("change", function () {
        let thresholdField = document.getElementById("thresholdField");
        if (this.value === "threshold") {
            thresholdField.style.display = "block";
        } else {
            thresholdField.style.display = "none";
        }
    });

    // Auto-Recharge Form Submission
    document.getElementById("autoRechargeForm").addEventListener("submit", function (event) {
        event.preventDefault();
        let amount = document.getElementById("amount").value;
        let frequency = document.getElementById("frequency").value;
        let paymentMethod = document.getElementById("paymentMethod").value;

        if (amount && frequency && paymentMethod) {
            // alert("Auto-Recharge has been enabled successfully!");
            var modal = bootstrap.Modal.getInstance(document.getElementById('autoRechargeModal'));
            modal.hide();
        }
    });



    </script>
</body>
</html>
